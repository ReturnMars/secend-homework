# ğŸ” ç”Ÿäº§ç¯å¢ƒå‰ç«¯é•œåƒ (æç®€æ‰˜ç®¡)
# è¿™é‡Œå‡è®¾æ‚¨æœ¬åœ°å·²ç»æ‰§è¡Œäº† pnpm buildï¼Œäº§å‡ºäº† dist ç›®å½•
FROM nginx:alpine

# 1. å¤åˆ¶è‡ªå®šä¹‰ Nginx é…ç½®
COPY infra/nginx.conf /etc/nginx/conf.d/default.conf

# 2. å¤åˆ¶æ„å»ºå®Œæˆçš„é™æ€æ–‡ä»¶
# è·¯å¾„ç›¸å¯¹äº deployer æ‰§è¡Œ docker build çš„ç›®å½•
COPY frontend/dist /usr/share/nginx/html

# 3. ç«¯å£æš´éœ²
EXPOSE 80

# 4. å¯åŠ¨å¯åŠ¨
CMD ["nginx", "-g", "daemon off;"]
