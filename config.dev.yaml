# ==============================================================================
# ğŸš€ CSV Cleaner å¼€å‘ç¯å¢ƒé…ç½® (Dev)
# ==============================================================================

# ------------------------------------------------------------------------------
# 1. æ•°æ®åº“é…ç½® (Postgres)
# ------------------------------------------------------------------------------
database:
  user: "postgres"
  password: "123456"
  name: "csv_cleaner"
  host: "localhost"
  port: 5436
  ssl_mode: "disable"
  timezone: "Asia/Shanghai"
  # PostgreSQL æ€§èƒ½å‚æ•°ï¼ˆé«˜é…å¼€å‘æœºï¼‰
  shared_buffers: "256MB"
  work_mem: "16MB"
  maintenance_work_mem: "128MB"
  effective_cache_size: "512MB"
  max_connections: 100

# ------------------------------------------------------------------------------
# 2. åç«¯æœåŠ¡é…ç½® (Go / Gin)
# ------------------------------------------------------------------------------
server:
  port: 8080
  mode: "debug"
  jwt_secret: "dev_secret_key_for_local_testing"
  upload_dir: "./uploads"

# ------------------------------------------------------------------------------
# 3. å‰ç«¯é…ç½® (Vite)
# ------------------------------------------------------------------------------
frontend:
  api_base_url: "/api"
  external_port: 5173 # å¼€å‘ç¯å¢ƒ Vite ç«¯å£
# ------------------------------------------------------------------------------
# 4. åŠ¨æ€æ¸…ç†è§„åˆ™ (Week 3)
# ------------------------------------------------------------------------------
cleaning_rules:
  - column: "phone"
    rules:
      - type: "replace"
        old: " "
        new: ""
      - type: "regex"
        pattern: "^1\\d{10}$"
  - column: "name"
    rules:
      - type: "required"
  - column: "date"
    rules:
      - type: "date"
  - column: "address_province"
    rules:
      - type: "address"
        comp: "province"
  - column: "address_city"
    rules:
      - type: "address"
        comp: "city"
  - column: "address_district"
    rules:
      - type: "address"
        comp: "district"
